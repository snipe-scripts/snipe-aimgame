const Ce=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};Ce();function b(){}function ge(t){return t()}function se(){return Object.create(null)}function x(t){t.forEach(ge)}function ke(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ee(t){return Object.keys(t).length===0}function $e(t,...e){if(t==null)return b;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function I(t,e,n){t.$$.on_destroy.push($e(e,n))}function Be(t,e,n){return t.set(n),e}function m(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function oe(){return P(" ")}function Te(){return P("")}function le(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function De(t){return Array.from(t.childNodes)}function he(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Se(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}let N;function O(t){N=t}function ie(){if(!N)throw new Error("Function called outside component initialization");return N}function Q(t){ie().$$.on_mount.push(t)}function Re(t){ie().$$.on_destroy.push(t)}function pe(){const t=ie();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=Se(e,n,{cancelable:r});return o.slice().forEach(c=>{c.call(t,i)}),!i.defaultPrevented}return!0}}const M=[],ce=[],Y=[],ae=[],Ie=Promise.resolve();let ne=!1;function Le(){ne||(ne=!0,Ie.then(be))}function re(t){Y.push(t)}const te=new Set;let G=0;function be(){const t=N;do{for(;G<M.length;){const e=M[G];G++,O(e),xe(e.$$)}for(O(null),M.length=0,G=0;ce.length;)ce.pop()();for(let e=0;e<Y.length;e+=1){const n=Y[e];te.has(n)||(te.add(n),n())}Y.length=0}while(M.length);for(;ae.length;)ae.pop()();ne=!1,te.clear(),O(t)}function xe(t){if(t.fragment!==null){t.update(),x(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(re)}}const J=new Set;let E;function _e(){E={r:0,c:[],p:E}}function ye(){E.r||x(E.c),E=E.p}function y(t,e){t&&t.i&&(J.delete(t),t.i(e))}function v(t,e,n,r){if(t&&t.o){if(J.has(t))return;J.add(t),E.c.push(()=>{J.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function X(t){t&&t.c()}function j(t,e,n,r){const{fragment:o,on_mount:i,on_destroy:c,after_update:a}=t.$$;o&&o.m(e,n),r||re(()=>{const s=i.map(ge).filter(ke);c?c.push(...s):x(s),t.$$.on_mount=[]}),a.forEach(re)}function U(t,e){const n=t.$$;n.fragment!==null&&(x(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ze(t,e){t.$$.dirty[0]===-1&&(M.push(t),Le(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(t,e,n,r,o,i,c,a=[-1]){const s=N;O(t);const l=t.$$={fragment:null,ctx:null,props:i,update:b,not_equal:o,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:se(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};c&&c(l.root);let f=!1;if(l.ctx=n?n(t,e.props||{},(d,_,...w)=>{const B=w.length?w[0]:_;return l.ctx&&o(l.ctx[d],l.ctx[d]=B)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](B),f&&ze(t,d)),_}):[],l.update(),f=!0,x(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const d=De(e.target);l.fragment&&l.fragment.l(d),d.forEach(C)}else l.fragment&&l.fragment.c();e.intro&&y(t.$$.fragment),j(t,e.target,e.anchor,e.customElement),be()}O(s)}class q{$destroy(){U(this,1),this.$destroy=b}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Ee(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const R=[];function Ae(t,e){return{subscribe:V(t,e).subscribe}}function V(t,e=b){let n;const r=new Set;function o(a){if(z(t,a)&&(t=a,n)){const s=!R.length;for(const l of r)l[1](),R.push(l,t);if(s){for(let l=0;l<R.length;l+=2)R[l][0](R[l+1]);R.length=0}}}function i(a){o(a(t))}function c(a,s=b){const l=[a,s];return r.add(l),r.size===1&&(n=e(o)||b),a(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:o,update:i,subscribe:c}}async function we(t,e={}){const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)},r="snipe-aimgame";try{return await(await fetch(`https://${r}/${t}`,n)).json()}catch{}}const Fe=await fetch("config.json").then(t=>t.json()).catch(t=>console.log(t)),Me=await fetch(`locales/${Fe.lang}.json`).then(t=>t.json()).catch(t=>console.log(t)),Oe=()=>{new Date().getFullYear();const t={show:V(!1),devMode:V(!1),data:V({}),locales:Ae(Me)};return{...t,...{closeForm(n=null){t.show.set(!1)},showForm(n){t.show.set(!0),t.data.set(n)},handleKeyUp(n){n.key=="Escape"&&we("closeMenu")}}}},L=Oe();function Ve(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}function Ne(){function t(e){switch(e.data.action){case"openGame":L.showForm(e.data.data);break;case"forceClose":L.closeForm();break;case"copytoclipboard":Ve(e.data.data);break}}Q(()=>window.addEventListener("message",t)),Re(()=>window.removeEventListener("message",t))}function ue(t){let e,n,r,o,i,c,a;return{c(){e=h("div"),n=h("div"),r=h("div"),o=h("p"),i=P(t[0]),c=oe(),a=h("div"),a.textContent=`${t[2].progress_status_game_initialization}`,u(r,"id","load-bar"),u(r,"class","timer-circle-loader"),u(n,"id","load-bar-frame"),u(n,"class","timer-circle"),u(a,"class","progress-status"),u(e,"class","initializing-screen-base")},m(s,l){$(s,e,l),m(e,n),m(n,r),m(r,o),m(o,i),m(e,c),m(e,a)},p(s,l){l&1&&he(i,s[0])},d(s){s&&C(e)}}}function Pe(t){let e,n=t[0]>-1&&ue(t);return{c(){n&&n.c(),e=Te()},m(r,o){n&&n.m(r,o),$(r,e,o)},p(r,[o]){r[0]>-1?n?n.p(r,o):(n=ue(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:b,o:b,d(r){n&&n.d(r),r&&C(e)}}}function je(t,e,n){let r,{originalTimerValue:o}=e,i=o,{locales:c}=L;I(t,c,d=>n(4,r=d));let a=r,s=pe();Q(()=>{f(),l()});function l(){const d=setInterval(()=>{i<0?(s("timer-end"),clearInterval(d)):n(0,i=i-1)},1e3)}function f(){const d=document.getElementById("load-bar");let _=0,w=o*10;setInterval(()=>{_++,d&&d.style&&_<=100&&(d.style.background="linear-gradient(to bottom, #155e75 "+_+"%,transparent "+_+"%,transparent 100%)")},w)}return t.$$set=d=>{"originalTimerValue"in d&&n(3,o=d.originalTimerValue)},[i,c,a,o]}class Ue extends q{constructor(e){super(),H(this,e,je,Pe,z,{originalTimerValue:3})}}const Z=V("");function He(t){let e,n,r,o,i,c,a,s;return{c(){e=h("div"),n=h("div"),r=A("svg"),o=A("g"),i=A("title"),c=P("Layer 1"),a=A("circle"),s=A("path"),u(a,"id","circle"),u(a,"class","base-timer__path-elapsed"),u(a,"r","20"),u(a,"cy","31"),u(a,"cx","69"),u(a,"fill","none"),u(s,"id","base-timer-path-remaining"),u(s,"stroke-dasharray","126"),u(s,"fill","none"),u(s,"class","base-timer__path-remaining "+t[0]),u(s,"d",`\r
                    M 31, 31\r
                    m -20, 0\r
                    a 20, 20 0 1, 0 40, 0\r
                    a 20, 20 0 1, 0 -40, 0\r
                    `),u(o,"class","base-timer__circle"),u(r,"class","base-timer__svg"),u(r,"viewBox","0 0 100 100"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(n,"class","base-timer"),u(e,"class","score-timer-row")},m(l,f){$(l,e,f),m(e,n),m(n,r),m(r,o),m(o,i),m(i,c),m(o,a),m(o,s)},p:b,i:b,o:b,d(l){l&&C(e)}}}const qe=126;function We(t,e,n){let r;I(t,Z,g=>n(4,r=g));const o=pe();let{gameCountDownTime:i}=e;const c=i/2,a=i/3,s={info:{color:"success"},warning:{color:"warning",threshold:c},alert:{color:"danger",threshold:a}};let l=i,f=null,d=s.info.color;Q(()=>{l=i,W()});function _(){const g=l/i;return g-1/i*(1-g)}function w(){const g=`${(_()*qe).toFixed(0)} 126`,k=document.getElementById("base-timer-path-remaining");k&&(k.style.strokeDasharray=g)}function B(g){const{alert:k,warning:T,info:ee}=s;g<=k.threshold?(document.getElementById("base-timer-path-remaining").classList.remove(T.color),document.getElementById("base-timer-path-remaining").classList.add(k.color)):g<=T.threshold&&(document.getElementById("base-timer-path-remaining").classList.remove(ee.color),document.getElementById("base-timer-path-remaining").classList.add(T.color))}function W(){f=setInterval(()=>{l===0?(o("time-up"),clearInterval(f)):r!==""?clearInterval(f):(l--,w(),B(l))},1e3)}return t.$$set=g=>{"gameCountDownTime"in g&&n(1,i=g.gameCountDownTime)},[d,i]}class Ge extends q{constructor(e){super(),H(this,e,We,He,z,{gameCountDownTime:1})}}function Ke(t){let e,n,r,o,i;return{c(){e=h("div"),n=h("h1"),r=P(t[0]),o=oe(),i=h("div"),u(n,"id","result-text"),F(n,"color","var(--circle-loader-active-color)"),u(n,"class","svelte-1qu5t6w"),u(i,"class","overlay svelte-1qu5t6w"),u(e,"class","results-wrapper svelte-1qu5t6w")},m(c,a){$(c,e,a),m(e,n),m(n,r),m(e,o),m(e,i)},p(c,[a]){a&1&&he(r,c[0])},i:b,o:b,d(c){c&&C(e)}}}function Ye(t,e,n){let r,{resultValue:o=""}=e,i="",{locales:c}=L;I(t,c,s=>n(3,r=s));let a=r;return Q(()=>{o==="winner"?n(0,i=a.winner):n(0,i=a.loser);const s=document.getElementById("result-text");s.style.color=o==="winner"?"var(--game-cd-success)":"var(--game-cd-danger)"}),t.$$set=s=>{"resultValue"in s&&n(2,o=s.resultValue)},[i,c,o]}class Je extends q{constructor(e){super(),H(this,e,Ye,Ke,z,{resultValue:2})}}const fe=["--game-cd-success","--game-cd-warning","--game-cd-danger","--light-text","--circle-loader-active-color"],de=["1","2","3"],Ze=()=>({...{randomInRange(e,n){return Math.floor(Math.random()*(n-e)+1+e)},getRandomColor(){const e=Math.floor(Math.random()*fe.length);return fe[e]},getRandomSize(){const e=Math.floor(Math.random()*de.length);return de[e]}}}),K=Ze();function Qe(t){let e,n,r,o,i,c,a;return n=new Ge({props:{gameCountDownTime:t[0].gameCountDownTime}}),n.$on("time-up",t[6]),{c(){e=h("div"),X(n.$$.fragment),r=oe(),o=h("div"),u(o,"id","bubble-div"),u(o,"class","bubble svelte-1lks20p"),F(o,"left",t[2]+"px"),F(o,"top",t[3]+"px"),u(e,"id","main-frame"),u(e,"class","game-body")},m(s,l){$(s,e,l),j(n,e,null),m(e,r),m(e,o),i=!0,c||(a=[le(o,"click",t[11]),le(e,"click",t[8])],c=!0)},p(s,l){const f={};l&1&&(f.gameCountDownTime=s[0].gameCountDownTime),n.$set(f),(!i||l&4)&&F(o,"left",s[2]+"px"),(!i||l&8)&&F(o,"top",s[3]+"px")},i(s){i||(y(n.$$.fragment,s),i=!0)},o(s){v(n.$$.fragment,s),i=!1},d(s){s&&C(e),U(n),c=!1,x(a)}}}function Xe(t){let e,n;return e=new Je({props:{resultValue:t[4]}}),{c(){X(e.$$.fragment)},m(r,o){j(e,r,o),n=!0},p(r,o){const i={};o&16&&(i.resultValue=r[4]),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function et(t){let e,n;return e=new Ue({props:{originalTimerValue:t[0].initializingTimer}}),e.$on("timer-end",t[5]),{c(){X(e.$$.fragment)},m(r,o){j(e,r,o),n=!0},p(r,o){const i={};o&1&&(i.originalTimerValue=r[0].initializingTimer),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function tt(t){let e,n,r,o;const i=[et,Xe,Qe],c=[];function a(s,l){return s[1]?s[4]!==""?1:2:0}return n=a(t),r=c[n]=i[n](t),{c(){e=h("div"),r.c(),u(e,"class","app-base-screen")},m(s,l){$(s,e,l),c[n].m(e,null),o=!0},p(s,[l]){let f=n;n=a(s),n===f?c[n].p(s,l):(_e(),v(c[f],1,1,()=>{c[f]=null}),ye(),r=c[n],r?r.p(s,l):(r=c[n]=i[n](s),r.c()),y(r,1),r.m(e,null))},i(s){o||(y(r),o=!0)},o(s){v(r),o=!1},d(s){s&&C(e),c[n].d()}}}function nt(t,e,n){let{initialData:r}=e,o=!1,i=!1,c,a,s=0,l=0,f="",d=r.totalCorrectClicksAllowed,_=r.totalWrongClicksAllowed;Z.subscribe(p=>{n(4,f=p)});function w(){n(1,o=!0),setTimeout(()=>{W()},10)}function B(){i=!0,f===""&&T()}function W(){const p=document.getElementsByClassName("game-body")[0];if(n(2,c=K.randomInRange(5,p.clientWidth-10)),n(3,a=K.randomInRange(5,p.clientHeight-10)),r.chooseRandomBubbleColors){const S=document.getElementById("bubble-div");S.style.backgroundColor="var("+K.getRandomColor()+")"}else{const S=document.getElementById("bubble-div");r.singleBubbleColor!==""&&(S.style.backgroundColor=r.singleBubbleColor)}const D=document.getElementById("bubble-div");if(r.chooseRandomSizeBubbles){const S=K.getRandomSize();D.style.width=S+"vw",D.style.height=S+"vw"}else r.singleBubbleSize!==""?(D.style.width=r.singleBubbleSize+"vw",D.style.height=r.singleBubbleSize+"vw"):(D.style.width="2vw",D.style.height="2vw")}function g(p){!i&&f===""&&(n(9,s++,s),W()),p.stopPropagation()}function k(){!i&&f===""&&n(10,l++,l)}function T(){i?s<d&&n(4,f="loser"):l===_?n(4,f="loser"):s===d&&n(4,f="winner"),f!==""&&(Z.update(()=>f),ee())}function ee(){const p={finalResult:f,correctClicks:s,wrongClicks:l};setTimeout(async()=>{await we("finalGameResult",p),Z.update(()=>"")},4e3)}const ve=p=>g(p);return t.$$set=p=>{"initialData"in p&&n(0,r=p.initialData)},t.$$.update=()=>{t.$$.dirty&1536&&(s||l)&&T()},[r,o,c,a,f,w,B,g,k,s,l,ve]}class rt extends q{constructor(e){super(),H(this,e,nt,tt,z,{initialData:0})}}function me(t){let e,n;return e=new rt({props:{initialData:t[0]}}),{c(){X(e.$$.fragment)},m(r,o){j(e,r,o),n=!0},p(r,o){const i={};o&1&&(i.initialData=r[0]),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function ot(t){let e,n,r=t[1]&&me(t);return{c(){e=h("div"),r&&r.c(),u(e,"class","main-base")},m(o,i){$(o,e,i),r&&r.m(e,null),n=!0},p(o,[i]){o[1]?r?(r.p(o,i),i&2&&y(r,1)):(r=me(o),r.c(),y(r,1),r.m(e,null)):r&&(_e(),v(r,1,1,()=>{r=null}),ye())},i(o){n||(y(r),n=!0)},o(o){v(r),n=!1},d(o){o&&C(e),r&&r.d()}}}function it(t,e,n){let r,o,i;Ne(),document.onkeyup=L.handleKeyUp;let{show:c,data:a,devMode:s}=L;return I(t,c,l=>n(1,i=l)),I(t,a,l=>n(0,r=l)),I(t,s,l=>n(5,o=l)),o&&Be(a,r={initializingTimer:3,gameCountDownTime:15,totalCorrectClicksAllowed:3,totalWrongClicksAllowed:2,chooseRandomBubbleColors:!0,singleBubbleColor:"",chooseRandomSizeBubbles:!1,singleBubbleSize:"1"},r),[r,i,c,a,s]}class st extends q{constructor(e){super(),H(this,e,it,ot,z,{})}}new st({target:document.getElementById("app")});
